<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<!-- saved from url=(0071)https://courses.cs.washington.edu/courses/cse190m/11su/labs/6/maze.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><!--
	CSE 190 M Lab 6 XHTML file
	You should download this file for your lab, but you should not edit its contents.
	--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>Maze!</title>
		
		<!-- provided files; do not modify -->
		<link href="Lab2_maze.css" type="text/css" rel="stylesheet">
		
		
	</head>

	<body>
		<h1>The Amazing Mouse Maze!</h1>
		<h2 id="status">Click "S" to begin.</h2>

        

		
		<!-- This part of the page represents the maze -->
		<div id="maze">
			<div id="start">S</div>

            

			<div class="boundary" id="boundary1"></div>
			<div class="boundary"></div>
			<div class="boundary"></div>
			<div class="boundary"></div>
			<div class="boundary"></div>
			<div id="end">E</div>
		</div>
		
		<p>
			The object of this game is to guide the mouse cursor through the start area and get to the end area.  Be sure to avoid the walls:
		</p>
		
		
		
		<p>
			Good luck!
		</p>
	
      






<script type="text/javascript">
    document.addEventListener("DOMContentLoaded", function () {
        var boundaries = document.querySelectorAll(".boundary");
        var allBoundariesRed = false;
        var gameWon = false;
        var gameLost = false;
        var start = document.getElementById("start");
        var status = document.getElementById("status");
        var maze = document.getElementById("maze");
        var gameStarted = false;
        var timerElement = document.getElementById("timer");
var winCountElement = document.getElementById("win-count");
var loseCountElement = document.getElementById("lose-count");

var startTime;
var timerInterval;
var winCount = 0;
var loseCount = 0;


        start.addEventListener("click", function () {
            if (gameWon || gameLost) {
                resetMaze();
                status.innerHTML = "Click 'S' to start.";
                gameLost = false;
                gameStarted = false;
            }
        });

        maze.addEventListener("mouseleave", function () {
            if (gameStarted && !gameWon) {
                if (!allBoundariesRed) {
                    makeAllBoundariesRed();
                    status.innerHTML = "You lose! Click 'S' to restart.";
                    gameLost = true;
                }
            }
        });

        for (var i = 0; i < boundaries.length; i++) {
            boundaries[i].addEventListener("mouseover", function () {
                if (gameStarted && !allBoundariesRed && !gameWon) {
                    this.classList.add("youlose");
                    makeAllBoundariesRed();
                    status.innerHTML = "You lose! Click 'S' to restart.";
                    gameLost = true;
                }
            });

            boundaries[i].addEventListener("mouseout", function () {
                if (gameStarted && !allBoundariesRed && !gameWon) {
                    this.classList.remove("youlose");
                }
            });
        }

        var end = document.getElementById("end");
        end.addEventListener("mouseover", function () {
            if (gameStarted && !allBoundariesRed && !gameWon) {
                status.innerHTML = "You win!";
                gameWon = true;
            }
        });

        start.addEventListener("click", function () {
            if (!gameStarted) {
                gameStarted = true;
                status.innerHTML = "You can now move the mouse through the maze.";
            }
        });

        function makeAllBoundariesRed() {
            for (var i = 0; i < boundaries.length; i++) {
                boundaries[i].classList.add("youlose");
            }
            allBoundariesRed = true;
        }

        function resetMaze() {
            for (var i = 0; i < boundaries.length; i++) {
                boundaries[i].classList.remove("youlose");
            }
            allBoundariesRed = false;
            gameWon = false;
        }
    });

    document.addEventListener("DOMContentLoaded", function () {
    var boundaries = document.querySelectorAll(".boundary");
    var allBoundariesRed = false;
    var gameWon = false;
    var gameLost = false;
    var start = document.getElementById("start");
    var status = document.getElementById("status");
    var maze = document.getElementById("maze");
    var gameStarted = false;
    var wins = 0;
    var losses = 0;

    start.addEventListener("click", function () {
        if (gameWon || gameLost) {
            resetMaze();
            status.innerHTML = "Click 'S' to start.";
            gameLost = false;
            gameStarted = false;
        }
    });

    maze.addEventListener("mouseleave", function () {
        if (gameStarted && !gameWon) {
            if (!allBoundariesRed) {
                makeAllBoundariesRed();
                status.innerHTML = "You lose! Click 'S' to restart.";
                gameLost = true;
                losses++;
                updateScore();
            }
        }
    });

    for (var i = 0; i < boundaries.length; i++) {
        boundaries[i].addEventListener("mouseover", function () {
            if (gameStarted && !allBoundariesRed && !gameWon) {
                this.classList.add("youlose");
                makeAllBoundariesRed();
                status.innerHTML = "You lose! Click 'S' to restart.";
                gameLost = true;
                losses++;
                updateScore();
            }
        });

        boundaries[i].addEventListener("mouseout", function () {
            if (gameStarted && !allBoundariesRed && !gameWon) {
                this.classList.remove("youlose");
            }
        });
    }

    var end = document.getElementById("end");
    end.addEventListener("mouseover", function () {
        if (gameStarted && !allBoundariesRed && !gameWon) {
            status.innerHTML = "You win!";
            gameWon = true;
            wins++;
            updateScore();
        }
    });

    start.addEventListener("click", function () {
        if (!gameStarted) {
            gameStarted = true;
            status.innerHTML = "You can now move the mouse through the maze.";
        }
    });

    function makeAllBoundariesRed() {
        for (var i = 0; i < boundaries.length; i++) {
            boundaries[i].classList.add("youlose");
        }
        allBoundariesRed = true;
    }

    function resetMaze() {
        for (var i = 0; i < boundaries.length; i++) {
            boundaries[i].classList.remove("youlose");
        }
        allBoundariesRed = false;
        gameWon = false;
    }

    function updateScore() {
        status.innerHTML += "<br>Wins: " + wins + " Losses: " + losses;
    }



    
});












    
</script>

        
</body>

</html>